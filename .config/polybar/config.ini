;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_
;; Colours

[colour]
;; main colours
foreground = #ffffff
background = #20000000
module = #1e1e2e
black = #000000
caffeine = #89dceb
clock = #fab387


;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_
;; Bar Settings

[bar/main]
monitor = ${env:MONITOR}
width = 100%

height = 25
line-size = 2

font-0 = monospace:style=bold:pixelsize=11;2
font-1 = Symbols Nerd Font;3
font-2 = Symbols Nerd Font:size=19;4
font-3 = Weather Icons:size=12;1

fixed-center = true
bottom = false

background = ${colour.background}
foreground = ${colour.foreground}

modules-left = ui/rounded-start custom/clock custom/nowplaying ui/rounded-end ui/rounded-start xorg/i3 ui/rounded-end
modules-center = ui/rounded-start i3/window ui/rounded-end
modules-right = ui/rounded-start custom/updates custom/vpn custom/network custom/volume ui/rounded-end

# override-redirect = true
wm-restack = i3
enable-ipc = true

cursor-click = pointer
cursor-scroll = ns-resize

border-size = 5

border-color = ${colour.background}

;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_
;; Modules (Right [Right to Left])

tray-position = ${env:TRAY_POS}
tray-padding = 0

[module/ui/rounded-start]
type = custom/text
content = 
content-font = 3
content-padding = 1
content-background = ${colour.background}
content-foreground = ${colour.module}

[module/ui/rounded-end]
type = custom/text
content = 
content-font = 3
content-background = ${colour.background}
content-foreground = ${colour.module}

[module/i3/window]
type = internal/xwindow
format = <label>
label = %title%
format-background = ${colour.module}

[module/custom/nowplaying]
type = custom/script
interval = 1
format = <label>
format-prefix-font = 󰝚
format-prefix-margin = 1
format-prefix = 
format-prefix-foreground = #625893
format-background = ${colour.module}
label-margin-right = 2
exec = ~/.config/polybar/scripts/playing.py -q -f ' {artist} {song}'

[module/xorg/i3]
type = internal/i3

strip-wsnumbers = true
index-sort = true

format = <label-state> <label-mode>
format-background = ${colour.module}
format-padding = 1

label-focused = %index%
label-unfocused = %index%
label-visible = %index%
label-urgent = %index%


label-mode = [ %mode% ]
label-mode-underline = #FF3B30

label-focused-underline = #FFFFFF
label-focused-padding = 2

label-unfocused-padding = 2

label-visible-underline = #555555
label-visible-padding = 2

label-urgent-underline = #FF3B30
label-urgent-padding = 2


;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_

[module/custom/clock]
type = internal/date
interval = 1.0
time = "%H:%M"
label = " %time%   %date%"
date = "%d/%m"
format = <label>
format-padding = 1
format-foreground = ${colour.clock}
format-background = ${colour.module}

;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_

[module/custom/volume]
type = internal/pulseaudio
format-volume = <ramp-volume> <label-volume>
format-volume-background = ${colour.module}
format-muted = <label-muted>
label-volume = %percentage%%
label-volume-padding-right = 2
label-muted = "󰝟"
ramp-volume-0 = 
ramp-volume-1 = 
ramp-volume-2 = 
ramp-volume-padding-left = 2
click-right = pavucontrol

;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_

[module/custom/network]
type = internal/network
interface = enp7s0
format-connected = <label-connected>
format-connected-background = ${colour.module}

format-disconnected = <label-disconnected>
format-disconnected-background = ${colour.module}

label-disconnected = " Not connected" 
label-connected = ""

;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_

[module/custom/vpn]
type = custom/script
exec = ~/.config/polybar/scripts/vpn.sh
interval = 1
format-background = ${colour.module}
label-margin = 2
click-left = protonvpn-cli c -f 
click-right = protonvpn-cli d
